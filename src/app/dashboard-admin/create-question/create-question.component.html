<app-dashboard-admin></app-dashboard-admin>
<!--Container Main start-->
<div class="vh-100 bg-light d-flex align-items-center py-3">
  <div class="container-table p-5">
    <div class="bg-light rounded shadow p-5">
      <a routerLink="/admin/questions" class="text-blue-kink fw-bold">
        <i class="fa-solid fa-arrow-left me-2"></i>Volver Atrás</a>
      <h1 class="text-center text-blue-dark fw-bold fs-1">Registrar Tema</h1>
      <form (ngSubmit)="onSubmit()" #questionForm="ngForm" method="post">
        <div class="mb-3">
          <label for="" class="fs-5 fw-bold my-2">Tema Sondeo:</label>
          <select class="form-control" [(ngModel)]="idSurvey" name="suervey_id" id="suervey_id" required>
            <option *ngFor="let survey of surveys; index" value="{{ survey.idsurvey }}">
              {{ survey.theme }}
            </option>
          </select>
        </div>
        <div class="mb-3">
          <label for="" class="fs-5 fw-bold my-2">Fecha de inicio</label>
          <input type="date" name="openingDate" id="openingDate" [(ngModel)]="objectSurvey.openingdate"
            class="form-control" placeholder="" aria-describedby="helpId" required />
        </div>
        <div class="mb-3">
          <label for="" class="fs-5 fw-bold my-2">Fecha de Cierre</label>
          <input type="date" name="closingdate" id="closingdate" [(ngModel)]="objectSurvey.closingdate"
            class="form-control" placeholder="" aria-describedby="helpId" required />
        </div>
        <div class="mb-3">
          <label for="" class="fs-5 fw-bold my-2">Estado:</label>
          <select class="form-select form-select-lg mb-3" name="state" id="state" [(ngModel)]="objectSurvey.state"
            aria-label=".form-select-lg example" required>
            <option selected>Seleccionar</option>
            <option value="true">Activo</option>
            <option value="false">Inactivo</option>
          </select>
        </div>

        <!-- Input number document -->
        <div class="mb-3">
          <label for="theme" class="fs-5 fw-bold my-2">descripción pregunta</label>
          <textarea type="text" class="form-control" id="theme" placeholder="Digite el nombre del tema"
            [(ngModel)]="objectSurvey.statement" name="theme" required #theme="ngModel">
          </textarea>
          <div class="text-danger" *ngIf="theme.invalid && (theme.dirty || theme.touched)">
            <div *ngIf="theme.errors?.['required']">El tema es obligatorio</div>
          </div>
        </div>
        <button class="btn btn-blue-dark w-100 fw-bold rounded shadow-sm my-5 fs-5 py-2" id="btnLogin"
          [disabled]="questionForm.invalid">
          Crear Pregunta
        </button>
        <div class="alert alert-blue-dark" role="alert" *ngIf="loading == true">
          <div class="d-flex justify-content-center align-items-center">
            <div class="spinner-border text-primary mr-3" role="status">
              <span class="sr-only">Loading...</span>
            </div>
            <div class="ms-2">
              <strong>Guardando Tema</strong>
            </div>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
