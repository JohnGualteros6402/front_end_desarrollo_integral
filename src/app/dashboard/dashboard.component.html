<header class="header-dash" id="header">
  <div class="header_toggle">
    <i class="fa-solid fa-bars" id="header-toggle"></i>
  </div>
  {{ emailSession }}
  <div class="header_img">
    <img src="https://i.imgur.com/hczKIze.jpg" alt="" />
  </div>
</header>
<div class="l-navbar" id="nav-bar">
  <nav class="nav">
    <div>
      <a href="/dashboard" class="nav_logo">
        <img
          src="../../assets/logos/icon_black.png"
          alt="icon"
          width="20"
          class="nav_logo-icon"
        />
        <span class="nav_logo-name">
          <img
            src="../../assets/logos/logo_eskrive_white.png"
            alt="logo"
            width="70"
          />
        </span>
      </a>
      <div class="nav_list">
        <a routerLink="/dashboard" class="nav_link">
          <i class="fa-solid fa-home nav_icon"></i>
          <span class="nav_name">Inicio</span>
        </a>
        <a class="nav_link" (click)="openModal(template)">
          <i class="fa-solid fa-user nav_icon"></i>
          <span class="nav_name">Perfil</span>
        </a>

      </div>
    </div>
    <a (click)="logout()" class="nav_link">
      <i class="fa-solid fa-arrow-right-from-bracket nav_icon"></i>
      <span class="nav_name">Cerrar Sesión</span>
    </a>
  </nav>
</div>

<!-- Container -->
<div class="vh-100 vw-100 row p-5">
  <ng-template #template>
    <div class="modal-header">
      <h4 class="modal-title">Perfil</h4>
      <button
        type="button"
        class="close"
        aria-label="Close"
        (click)="modalRef.hide()"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
    </div>
    <div class="modal-footer">
      <button
        type="button"
        class="btn btn-secondary"
        (click)="modalRef.hide()"
      >
        Cerrar
      </button>
    </div>
  </ng-template>
  <div class="p-5">
    <div class="col-md-2">
      <input
        type="text"
        class="form-control"
        placeholder="Buscar"
        name="search"
        (keyup)="searchCoin()"
        [(ngModel)]="searchText"
      />
    </div>
    <div class="row py-2">
      <div class="col-md-6">
        <div class="bg-blue-dark p-1 rounded">
          <h3 class="text-light text-center fs-5">Lista de preguntas</h3>
        </div>
        <div class="d-flex justify-content-end text-muted p-2">
          {{ numberofquestions }} preguntas encontradas
        </div>
        <div
          class="border-bottom p-2"
          *ngFor="let question of filteredQuestions"
        >
          <a
            (click)="getQuestionAndRedirect(question.idquestion)"
            class="text-blue-dark"
          >
            <p class="fw-bold">{{ question.statement }}</p>
          </a>
        </div>
      </div>
      <div class="col-md-6">
        <!-- Validate if question is different to null -->
        <div *ngIf="question != null">
          <div class="bg-blue-dark p-1 rounded">
            <h3 class="text-light text-center fs-5">
              {{ question.statement }}
            </h3>
          </div>
          <div class="d-flex justify-content-between text-muted p-2">
            <div>
              <p class="text-blue-dark">
                <span class="fw-bold">Categoria:</span> Programación
              </p>
            </div>
            <p>{{ question.openingdate }} - {{ question.closingdate }}</p>
          </div>
          <hr/>
          <form class="d-flex">
            <input type="text" placeholder="escribe tu respuesta aquí" class="form-control me-1">
            <div class="d-flex justify-content-end">
              <button
                type="button"
                class="btn btn-blue-king"
              >
              <i class="fa-solid fa-paper-plane"></i>
              </button>
            </div>
          </form>
        </div>
        <div class="bg-blue-dark p-1 rounded" *ngIf="question == null">
          <h3 class="text-light text-center fs-5">Pregunta</h3>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->


